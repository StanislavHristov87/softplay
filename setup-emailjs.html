<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmailJS Setup Assistant - Soft Play Solutions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        .step-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            margin-right: 1rem;
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1rem;
            border-radius: 0.5rem;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .btn-copy {
            background: #667eea;
            color: white;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            margin-top: 0.5rem;
        }
        .btn-copy:hover {
            background: #5568d3;
        }
        .success {
            color: #10b981;
            font-weight: bold;
        }
        .warning {
            color: #f59e0b;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="max-w-4xl mx-auto">
        <div class="step-card text-center mb-8">
            <h1 class="text-4xl font-bold mb-4">EmailJS Setup Assistant</h1>
            <p class="text-gray-600">Follow these steps to configure your contact forms</p>
        </div>

        <!-- Step 1 -->
        <div class="step-card">
            <div class="flex items-center mb-4">
                <span class="step-number">1</span>
                <h2 class="text-2xl font-bold">Create EmailJS Account</h2>
            </div>
            <ol class="list-decimal list-inside space-y-2 ml-16">
                <li>Go to <a href="https://www.emailjs.com/" target="_blank" class="text-blue-600 underline">https://www.emailjs.com/</a></li>
                <li>Click "Sign Up" (free account allows 200 emails/month)</li>
                <li>Sign up with your email or Google account</li>
                <li>Verify your email address</li>
            </ol>
            <div class="mt-4 ml-16">
                <label class="block mb-2">
                    <input type="checkbox" id="step1" class="mr-2">
                    <span>I have created my EmailJS account</span>
                </label>
            </div>
        </div>

        <!-- Step 2 -->
        <div class="step-card">
            <div class="flex items-center mb-4">
                <span class="step-number">2</span>
                <h2 class="text-2xl font-bold">Add Email Service</h2>
            </div>
            <ol class="list-decimal list-inside space-y-2 ml-16">
                <li>In your EmailJS dashboard, click <strong>"Email Services"</strong> in the left sidebar</li>
                <li>Click <strong>"Add New Service"</strong></li>
                <li>Choose <strong>"Gmail"</strong> (or your email provider)</li>
                <li>Click <strong>"Connect Account"</strong> and authorize EmailJS</li>
                <li>After connection, you'll see a <strong>Service ID</strong> (looks like: <code class="bg-gray-100 px-2 py-1 rounded">service_abc123</code>)</li>
            </ol>
            <div class="mt-4 ml-16">
                <label class="block mb-2">Service ID:</label>
                <input type="text" id="serviceId" placeholder="service_xxxxx" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                <small class="text-gray-500">Copy this from your EmailJS dashboard</small>
            </div>
        </div>

        <!-- Step 3 -->
        <div class="step-card">
            <div class="flex items-center mb-4">
                <span class="step-number">3</span>
                <h2 class="text-2xl font-bold">Create Email Template</h2>
            </div>
            <ol class="list-decimal list-inside space-y-2 ml-16">
                <li>Click <strong>"Email Templates"</strong> in the left sidebar</li>
                <li>Click <strong>"Create New Template"</strong></li>
                <li>Set the following:</li>
            </ol>
            <div class="ml-16 mt-4 space-y-3">
                <div>
                    <strong>Subject:</strong>
                    <div class="code-block">Ново съобщение от {{from_name}}</div>
                </div>
                <div>
                    <strong>Content:</strong>
                    <div class="code-block">Име: {{from_name}}
Имейл: {{from_email}}
Телефон: {{from_phone}}
Услуга: {{service}}
Съобщение:
{{message}}

---
Това съобщение е изпратено от контактната форма на Soft Play Solutions.</div>
                </div>
                <div>
                    <strong>To Email:</strong>
                    <div class="code-block">softplay1987@gmail.com</div>
                </div>
                <div>
                    <strong>From Name:</strong>
                    <div class="code-block">{{from_name}}</div>
                </div>
                <div>
                    <strong>Reply To:</strong>
                    <div class="code-block">{{reply_to}}</div>
                </div>
            </div>
            <div class="mt-4 ml-16">
                <p class="mb-2">After saving, you'll see a <strong>Template ID</strong> (looks like: <code class="bg-gray-100 px-2 py-1 rounded">template_xyz789</code>)</p>
                <label class="block mb-2">Template ID:</label>
                <input type="text" id="templateId" placeholder="template_xxxxx" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
            </div>
        </div>

        <!-- Step 4 -->
        <div class="step-card">
            <div class="flex items-center mb-4">
                <span class="step-number">4</span>
                <h2 class="text-2xl font-bold">Get Your Public Key</h2>
            </div>
            <ol class="list-decimal list-inside space-y-2 ml-16">
                <li>Click <strong>"Account"</strong> → <strong>"General"</strong> in the left sidebar</li>
                <li>Scroll down to <strong>"API Keys"</strong> section</li>
                <li>Copy your <strong>Public Key</strong> (looks like: <code class="bg-gray-100 px-2 py-1 rounded">abc123xyz789</code>)</li>
            </ol>
            <div class="mt-4 ml-16">
                <label class="block mb-2">Public Key:</label>
                <input type="text" id="publicKey" placeholder="Your Public Key" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
            </div>
        </div>

        <!-- Step 5 -->
        <div class="step-card">
            <div class="flex items-center mb-4">
                <span class="step-number">5</span>
                <h2 class="text-2xl font-bold">Update Your Code</h2>
            </div>
            <div class="ml-16">
                <p class="mb-4">Once you have all three values above, click the button below to generate your updated code:</p>
                <button onclick="generateCode()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 mb-4">
                    Generate Updated script.js Code
                </button>
                <div id="codeOutput" class="hidden">
                    <p class="mb-2 font-bold">Copy this code and replace the content of <code class="bg-gray-100 px-2 py-1 rounded">script.js</code>:</p>
                    <div class="code-block" id="generatedCode"></div>
                    <button onclick="copyCode()" class="btn-copy">Copy Code</button>
                </div>
            </div>
        </div>

        <!-- Step 6 -->
        <div class="step-card">
            <div class="flex items-center mb-4">
                <span class="step-number">6</span>
                <h2 class="text-2xl font-bold">Test Your Form</h2>
            </div>
            <ol class="list-decimal list-inside space-y-2 ml-16">
                <li>Open your website in a browser</li>
                <li>Go to the contact page</li>
                <li>Fill out and submit the contact form</li>
                <li>Check <strong>softplay1987@gmail.com</strong> for the test email</li>
            </ol>
        </div>
    </div>

    <script>
        function generateCode() {
            const serviceId = document.getElementById('serviceId').value.trim();
            const templateId = document.getElementById('templateId').value.trim();
            const publicKey = document.getElementById('publicKey').value.trim();

            if (!serviceId || !templateId || !publicKey) {
                alert('Моля, попълнете всички полета преди да генерирате кода.');
                return;
            }

            // Read the current script.js content structure
            const code = `// Mobile Menu Toggle
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', function() {
            mobileMenu.classList.toggle('hidden');
        });
    }
    
    // Close mobile menu when clicking on a link
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
        link.addEventListener('click', function() {
            mobileMenu.classList.add('hidden');
        });
    });
    
    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                const headerOffset = 80;
                const elementPosition = target.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Initialize EmailJS
    let emailjsConfigured = false;
    if (typeof emailjs !== 'undefined') {
        try {
            const publicKey = "${publicKey}";
            if (publicKey && publicKey !== "YOUR_PUBLIC_KEY") {
                emailjs.init(publicKey);
                emailjsConfigured = true;
            } else {
                console.warn('EmailJS public key not configured. Please add your public key in script.js');
            }
        } catch (error) {
            console.warn('EmailJS initialization error:', error);
        }
    } else {
        console.warn('EmailJS library not loaded. Please check the EmailJS CDN script in your HTML.');
    }
    
    // Contact Form Handler
    const contactForm = document.getElementById('contact-form');
    const formMessage = document.getElementById('form-message');
    
    if (contactForm) {
        const submitButton = contactForm.querySelector('button[type="submit"]');
        const originalButtonText = submitButton ? submitButton.textContent : '';
        
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const phoneInput = document.getElementById('phone');
            const messageInput = document.getElementById('message');
            const serviceInput = document.getElementById('service');
            
            const name = nameInput ? nameInput.value.trim() : '';
            const email = emailInput ? emailInput.value.trim() : '';
            const phone = phoneInput ? phoneInput.value.trim() : '';
            const message = messageInput ? messageInput.value.trim() : '';
            const service = serviceInput ? serviceInput.value : '';
            
            // Validate form
            if (!name || !email || !phone || !message) {
                showMessage('Моля, попълнете всички задължителни полета.', 'error');
                return;
            }
            
            // Validate email format
            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
            if (!emailRegex.test(email)) {
                showMessage('Моля, въведете валиден имейл адрес.', 'error');
                return;
            }
            
            // Validate phone (basic validation - at least 5 digits)
            const phoneRegex = /[\\d\\s\\+\\-\\(\\)]{5,}/;
            if (!phoneRegex.test(phone)) {
                showMessage('Моля, въведете валиден телефонен номер.', 'error');
                return;
            }
            
            // Check if EmailJS is configured
            const serviceId = '${serviceId}';
            const templateId = '${templateId}';
            
            if (!emailjsConfigured || serviceId === 'YOUR_SERVICE_ID' || templateId === 'YOUR_TEMPLATE_ID') {
                showMessage('EmailJS не е конфигуриран. Моля, свържете се с нас директно на телефона: +359 889 878 731 или на имейл: softplay1987@gmail.com', 'error');
                console.error('EmailJS credentials not configured. Please set YOUR_SERVICE_ID, YOUR_TEMPLATE_ID, and YOUR_PUBLIC_KEY in script.js');
                
                // Re-enable submit button
                if (submitButton) {
                    submitButton.disabled = false;
                    submitButton.textContent = originalButtonText;
                    submitButton.style.opacity = '1';
                }
                return;
            }
            
            // Disable submit button and show loading state
            if (submitButton) {
                submitButton.disabled = true;
                submitButton.textContent = 'ИЗПРАЩА СЕ...';
                submitButton.style.opacity = '0.7';
            }
            
            // EmailJS template parameters
            const templateParams = {
                from_name: name,
                from_email: email,
                from_phone: phone,
                service: service || 'Не е избрана услуга',
                message: message,
                to_email: 'softplay1987@gmail.com',
                reply_to: email
            };
            
            // Send email using EmailJS
            emailjs.send('${serviceId}', '${templateId}', templateParams)
                .then(function(response) {
                    showMessage('Съобщението е изпратено успешно! Ще се свържем с вас скоро.', 'success');
                    contactForm.reset();
                    
                    // Re-enable submit button
                    if (submitButton) {
                        submitButton.disabled = false;
                        submitButton.textContent = originalButtonText;
                        submitButton.style.opacity = '1';
                    }
                }, function(error) {
                    showMessage('Възникна грешка при изпращането. Моля, опитайте отново или се свържете директно на телефона: +359 889 878 731', 'error');
                    console.error('EmailJS Error:', error);
                    
                    // Re-enable submit button
                    if (submitButton) {
                        submitButton.disabled = false;
                        submitButton.textContent = originalButtonText;
                        submitButton.style.opacity = '1';
                    }
                });
        });
    }
    
    // Show form message
    function showMessage(text, type) {
        if (!formMessage) return;
        
        formMessage.textContent = text;
        formMessage.classList.remove('hidden');
        formMessage.classList.remove('text-green-600', 'text-red-600');
        
        if (type === 'success') {
            formMessage.classList.add('text-green-600');
        } else {
            formMessage.classList.add('text-red-600');
        }
        
        // Scroll to message
        formMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        
        // Hide message after 5 seconds
        setTimeout(function() {
            formMessage.classList.add('hidden');
        }, 5000);
    }
    
    // Header scroll effect (optional - add shadow on scroll)
    let lastScroll = 0;
    const header = document.querySelector('header');
    
    window.addEventListener('scroll', function() {
        const currentScroll = window.pageYOffset;
        
        if (currentScroll > 100) {
            header.classList.add('shadow-lg');
        } else {
            header.classList.remove('shadow-lg');
        }
        
        lastScroll = currentScroll;
    });
});`;

            document.getElementById('generatedCode').textContent = code;
            document.getElementById('codeOutput').classList.remove('hidden');
        }

        function copyCode() {
            const code = document.getElementById('generatedCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('Кодът е копиран! Сега отворете script.js и заменете целия файл с копирания код.');
            });
        }
    </script>
</body>
</html>

